"use strict";

const genresTop = {
	'1': "Fiction",
	'2': "Mysteries and Thrillers",
	'3': "Prose",
	'4': "Romance",
	'5': "Adventures",
	'6': "Children literature",
	'7': "Poetry, dramaturgy",
	'8': "Antique",
	'9': "Science, Education",
	'A': "PC, Internet",
	'B': "References",
	'C': "Documentary literature",
	'D': "Religion and Spirituality",
	'E': "Humour",
	'F': "Home and Family",
	'0': "Economy, Business",
};

const genresSub = {
	'11': "Alternative History",
	'12': "Fighting fantasy",
	'13': "Epic fantasy",
	'14': "Heroic fantasy",
	'15': "Detective Fiction",
	'16': "Cyberpunk",
	'17': "Space Fiction",
	'18': "Socio-psychological fiction",
	'19': "Horror and Mysticism",
	'1A': "Humorous Fiction",
	'1B': "Fantasy",
	'10': "Science Fiction",
	'21': "Classic mystery",
	'22': "Police mystery",
	'23': "Action",
	'24': "Ironic mystery",
	'25': "Historical mystery",
	'26': "Spy mystery",
	'27': "Criminal mystery",
	'28': "Political mystery",
	'29': "Maniacs",
	'2A': "Action mystery",
	'2B': "Thriller",
	'20': "Mystery",
	'31': "Classical prose",
	'32': "Historical prose",
	'33': "Modern prose",
	'34': "Counterculture",
	'35': "Russian Classical prose",
	'36': "Soviet Classical prose",
	'37': "Prose military",
	'30': "Prose",
	'41': "Modern romance novels",
	'42': "Historical romance novels",
	'43': "Action romance novels",
	'44': "Short romance novels",
	'45': "Erotic novels",
	'46': "Love science fiction",
	'40': "Love novels",
	'51': "Western",
	'52': "Historical adventures",
	'53': "Adventures about Indians",
	'54': "Sea adventures",
	'55': "Travel and Geography",
	'56': "Nature and Animals",
	'50': "Adventures",
	'61': "Tales",
	'62': "Children poetry",
	'63': "Childern prose",
	'64': "Children fiction",
	'65': "Children action",
	'66': "Children adventures",
	'67': "Children education",
	'60': "Children literature",
	'71': "Poetry",
	'72': "Dramaturgy",
	'81': "Antique Literature",
	'82': "European ancient literature",
	'83': "Russian ancient literature",
	'84': "Oriental ancient literature",
	'85': "Myths. Legends. Epic.",
	'80': "Ancient literature",
	'91': "History",
	'92': "Psychology",
	'93': "Cultural",
	'94': "Religious",
	'95': "Philosophy",
	'96': "Politology",
	'97': "Business literature",
	'98': "Law",
	'99': "Linguistics",
	'9A': "Medical",
	'9B': "Physics",
	'9C': "Mathematics",
	'9D': "Chemistry",
	'9E': "Biology",
	'9F': "Engineering",
	'90': "Scientific literature",
	'A1': "Internet",
	'A2': "Programming",
	'A3': "Computer hardware",
	'A4': "Software",
	'A5': "Databases",
	'A6': "OS and Network",
	'A0': "Computer literature",
	'B1': "Encyclopedias",
	'B2': "Dictionaries",
	'B3': "Directories",
	'B4': "Manuals",
	'B0': "References",
	'C1': "Biographies and Memoirs",
	'C2': "Publicism",
	'C3': "Criticism",
	'C4': "Art and Design",
	'C5': "Documentary literature",
	'D1': "Religion",
	'D2': "Esoterica",
	'D3': "Self-improvement",
	'D0': "Religious Literature",
	'E1': "Jokes",
	'E2': "Humorous prose",
	'E3': "Humorous poetry",
	'E0': "Humour",
	'F1': "Cooking",
	'F2': "Pets",
	'F3': "Hobbies and Crafts",
	'F4': "Entertainment",
	'F5': "Health",
	'F6': "Gardening",
	'F7': "Handmade",
	'F8': "Sport",
	'F9': "Erotic, sex",
	'F0': "Household",
	'FA': "Geo guides",
	'01': "Job hunting",
	'02': "Management",
	'03': "Marketing",
	'04': "Banking",
	'05': "Stock",
	'06': "Accounting",
	'07': "Global economy",
	'00': "Economics",
	'08': "Industries",
	'09': "Corporate culture",
	'0A': "Personal finance",
	'0B': "Real estate",
	'0C': "Popular business",
	'0D': "Small business",
	'0E': "Paper work",
	'0F': "Economics reference book",
};

function decodeGenres(code) {
    if (code === undefined || code === null || code.length % 2 == 1) {
	console.log('decodeGenres: bad code:');
	console.log(code);
	return '-';
    }
    let genres = [];
    for (let i=0; i < code.length; i+=2) {
	const top = code.charAt(i);
	const sub = code.charAt(i+1);
	let out = '';
	let topstring = genresTop[top];
	if (topstring) {
	    out += topstring + '/';
	}
	out += genresSub[top+sub];
	genres.push(out);
    }
    return genres.join("; ");
}
